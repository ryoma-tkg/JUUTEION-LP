---
interface Props {
    variant?: "primary" | "secondary";
    href?: string;
    class?: string;
    icon?: boolean;
}

const {
    variant = "primary",
    href,
    class: className,
    icon = true,
} = Astro.props;

const baseStyles =
    "group rounded-2xl p-4 transition-all duration-300 active:scale-95 flex items-center justify-center gap-2 font-bold text-base tracking-wide cursor-pointer w-full";

const variants = {
    // Primary: 白フチ + 半透明背景 + すりガラス効果
    // - bg-white/10: 白の10%透明
    // - border-white/30: フチは少し強めの30%
    // - backdrop-blur-md: 背景をぼかす（マットな質感）
    primary:
        "bg-white/10 border border-white/30 text-white backdrop-blur-md hover:bg-white/20 hover:border-white/50 shadow-lg shadow-black/10",

    // Secondary: 変更なし
    secondary:
        "bg-surface border border-subtle text-text-muted hover:bg-white/5 hover:text-white",
};

const Tag = href ? "a" : "button";
---

<Tag href={href} class:list={[baseStyles, variants[variant], className]}>
    <slot />
    {
        icon && (
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="group-hover:translate-x-1 transition-transform"
            >
                {variant === "primary" ? (
                    <>
                        <path d="M5 12h14" />
                        <path d="m12 5 7 7-7 7" />
                    </>
                ) : (
                    <path d="m9 18 6-6-6-6" />
                )}
            </svg>
        )
    }
</Tag>
