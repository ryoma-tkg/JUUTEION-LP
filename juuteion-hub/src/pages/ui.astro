---
import Layout from "../layouts/Layout.astro";
import Button from "../components/ui/Button.astro";
import HeroCard from "../components/ui/HeroCard.astro";
import ArchiveCard from "../components/ui/ArchiveCard.astro";
import ListItem from "../components/ui/ListItem.astro";
import Tag from "../components/ui/Tag.astro";
import Input from "../components/ui/Input.astro";

// 追加: 画像をインポート (型エラー回避のため)
// ※ src/assets/images/top-bg.jpg が存在することを前提としています
import topBg from "../assets/images/top-bg.jpg";
---

{/* isFluid=true を設定し、左右分割レイアウトを有効化 */}
<Layout title="Design System" isFluid={true}>
    <div class="flex flex-col lg:flex-row min-h-screen">
        {
            /* ==========================================
            [LEFT COLUMN] Visual Placeholder & Nav (UI Hub Context)
            Width is flexible (flex-1)
           ========================================== */
        }
        <aside
            class="hidden lg:block flex-1 h-screen sticky top-0 left-0 overflow-hidden border-r border-subtle min-w-0 bg-zinc-900"
        >
            {/* Placeholder Background */}
            <div
                class="absolute inset-0 bg-cover bg-center"
                style={`background-image: url('${topBg.src}'); opacity: 0.2;`}
            >
            </div>
            <div class="absolute inset-0 bg-black/50 backdrop-blur-sm"></div>

            {/* Content (Logo & Nav) */}
            <div
                class="relative z-10 w-full h-full p-16 flex flex-col justify-between items-end text-right"
            >
                <div class="mt-8">
                    <div class="text-right drop-shadow-xl">
                        <h1
                            class="text-5xl font-bold tracking-tighter text-white font-sans"
                        >
                            UI HUB <span
                                class="block text-xl font-normal text-accent-blue tracking-[0.2em] mt-2 font-en"
                                >V3.0 CATALOG</span
                            >
                        </h1>
                    </div>
                </div>

                <nav class="flex flex-col gap-5 mb-8 drop-shadow-xl">
                    {
                        [
                            { label: "TYPOGRAPHY", href: "#typography" },
                            { label: "COLORS", href: "#colors" },
                            { label: "CARDS", href: "#cards" },
                            { label: "BUTTONS", href: "#buttons" },
                            { label: "FORMS", href: "#forms" },
                        ].map((item) => (
                            <a
                                href={item.href}
                                class="group flex items-center justify-end gap-3 py-1"
                            >
                                <span class="text-lg font-en font-bold text-white/70 group-hover:text-white transition-colors duration-300 tracking-widest">
                                    {item.label}
                                </span>
                                <span class="w-0 h-[2px] bg-accent-blue group-hover:w-6 transition-all duration-300 ease-out" />
                            </a>
                        ))
                    }
                </nav>
            </div>
        </aside>

        {
            /* ==========================================
            [RIGHT COLUMN] Content (Fixed Width 700px)
           ========================================== */
        }
        <main
            class="w-full lg:w-[700px] lg:shrink-0 bg-background relative z-10 border-l border-subtle"
        >
            <div class="w-full px-8 md:px-12 py-24 space-y-32">
                <header class="space-y-4 pb-12 border-b border-subtle">
                    <h1
                        class="text-4xl font-bold text-text-main tracking-tighter leading-[1.1] font-sans"
                    >
                        Design System <span class="text-accent-blue font-en"
                            >V3.0</span
                        >
                    </h1>
                    <p
                        class="text-base text-text-muted leading-relaxed max-w-[320px] font-sans"
                    >
                        Matte & Silence コンポーネントカタログ
                    </p>
                </header>

                {/* 1. Typography */}
                <section id="typography" class="space-y-6">
                    {/* New Heading Style */}
                    <div class="flex items-center gap-4 mb-6">
                        <span class="w-2 h-8 bg-accent-blue rounded-sm"></span>
                        <h2
                            class="text-2xl font-bold font-en tracking-widest text-white uppercase"
                        >
                            Typography Scale
                        </h2>
                    </div>

                    <div class="space-y-10 pl-6">
                        <div class="space-y-2 border-b border-subtle pb-8">
                            <span
                                class="text-xs text-text-muted/50 font-mono block font-en"
                                >Display / Title</span
                            >
                            <p
                                class="text-4xl font-bold text-text-main tracking-tighter leading-[1.1]"
                            >
                                Margin Is Luxury.
                            </p>
                        </div>
                        <div class="space-y-2 border-b border-subtle pb-8">
                            <span
                                class="text-xs text-text-muted/50 font-mono block font-en"
                                >Heading / Section</span
                            >
                            <p
                                class="text-2xl font-bold text-text-main tracking-tight"
                            >
                                Deep Night Launch
                            </p>
                        </div>
                        <div class="space-y-2 border-b border-subtle pb-8">
                            <span
                                class="text-xs text-text-muted/50 font-mono block font-en"
                                >Body / Text</span
                            >
                            <p
                                class="text-base text-text-muted leading-relaxed max-w-md"
                            >
                                本イベントは、音楽と空間を楽しむためのラウンジパーティーです。
                            </p>
                        </div>
                        <div class="space-y-2 border-b border-subtle pb-8">
                            <span
                                class="text-xs text-text-muted/50 font-mono block font-en"
                                >Label / Meta</span
                            >
                            <p
                                class="text-xs font-medium text-text-muted tracking-widest uppercase font-en"
                            >
                                2024.12.31 / CLUB ASIA
                            </p>
                        </div>
                    </div>
                </section>

                {/* 2. Colors */}
                <section id="colors" class="space-y-6">
                    {/* New Heading Style */}
                    <div class="flex items-center gap-4 mb-6">
                        <span class="w-2 h-8 bg-accent-yellow rounded-sm"
                        ></span>
                        <h2
                            class="text-2xl font-bold font-en tracking-widest text-white uppercase"
                        >
                            Color Palette
                        </h2>
                    </div>

                    <div class="grid grid-cols-3 gap-4 pl-6">
                        {
                            [
                                {
                                    name: "BLUE",
                                    hex: "#0097e0",
                                    bg: "bg-accent-blue",
                                    text: "text-white",
                                },
                                {
                                    name: "YELLOW",
                                    hex: "#FEE100",
                                    bg: "bg-accent-yellow",
                                    text: "text-black",
                                },
                                {
                                    name: "RED",
                                    hex: "#e5177c",
                                    bg: "bg-accent-red",
                                    text: "text-white",
                                },
                                {
                                    name: "SURFACE",
                                    hex: "#18181b",
                                    bg: "bg-surface",
                                    text: "text-white",
                                },
                                {
                                    name: "SUBTLE",
                                    hex: "#27272a",
                                    bg: "bg-subtle",
                                    text: "text-white",
                                },
                                {
                                    name: "TEXT-MUTED",
                                    hex: "#a1a1aa",
                                    bg: "bg-text-muted",
                                    text: "text-black",
                                },
                            ].map((c) => (
                                <div
                                    class={`aspect-[4/3] rounded-2xl ${c.bg} flex flex-col justify-end p-3 relative overflow-hidden group border border-white/5`}
                                >
                                    <span
                                        class={`text-sm font-bold ${c.text} relative z-10 font-en`}
                                    >
                                        {c.name}
                                    </span>
                                    <span
                                        class={`text-[10px] ${c.text} opacity-80 font-mono relative z-10 font-en`}
                                    >
                                        {c.hex}
                                    </span>
                                    <div class="absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300" />
                                </div>
                            ))
                        }
                    </div>
                </section>

                {/* 3. Cards */}
                <section id="cards" class="space-y-6">
                    {/* New Heading Style */}
                    <div class="flex items-center gap-4 mb-6">
                        <span class="w-2 h-8 bg-accent-red rounded-sm"></span>
                        <h2
                            class="text-2xl font-bold font-en tracking-widest text-white uppercase"
                        >
                            Cards & Lists
                        </h2>
                    </div>

                    <div class="space-y-8 pl-6">
                        <HeroCard
                            title="Deep Night"
                            subTitle="Vol.1 Launch"
                            date="2024.12.31 SAT"
                            time="OPEN 23:00"
                            place="CLUB ASIA"
                            price="¥3,500 / 1D"
                            image={topBg}
                        />

                        <div class="grid grid-cols-2 gap-4">
                            <ArchiveCard
                                title="Vol.0 Pre-Party"
                                date="2024.10.31"
                                place="MOGRA"
                                image={topBg}
                            />
                            <ArchiveCard
                                title="Teaser Night"
                                date="2024.08.15"
                                place="WOMB"
                                image={topBg}
                            />
                        </div>

                        <div class="divide-y divide-subtle">
                            <ListItem
                                title="DJ GUEST"
                                subTitle="Drum'n Bass"
                                accentColor="blue"
                            />
                            <ListItem
                                title="RESIDENT"
                                subTitle="Techno"
                                accentColor="yellow"
                            />
                        </div>
                    </div>
                </section>

                {/* 4. Buttons */}
                <section id="buttons" class="space-y-6">
                    {/* New Heading Style */}
                    <div class="flex items-center gap-4 mb-6">
                        <span class="w-2 h-8 bg-accent-blue rounded-sm"></span>
                        <h2
                            class="text-2xl font-bold font-en tracking-widest text-white uppercase"
                        >
                            Buttons & Tags
                        </h2>
                    </div>

                    <div class="space-y-4 pl-6">
                        <Button variant="primary">チケットを予約</Button>
                        <Button variant="secondary">詳しい情報を見る</Button>
                    </div>

                    <div class="flex flex-wrap gap-3 pt-6 pl-6">
                        <Tag variant="default">Techno</Tag>
                        <Tag variant="blue">House</Tag>
                        <Tag variant="yellow">Bass</Tag>
                        <Tag variant="red">SOLD OUT</Tag>
                    </div>
                </section>

                {/* 5. Forms */}
                <section id="forms" class="space-y-6">
                    {/* New Heading Style */}
                    <div class="flex items-center gap-4 mb-6">
                        <span class="w-2 h-8 bg-subtle rounded-sm"></span>
                        <h2
                            class="text-2xl font-bold font-en tracking-widest text-white uppercase"
                        >
                            Form Elements
                        </h2>
                    </div>

                    <div class="space-y-4 pl-6">
                        <Input
                            label="Email Address"
                            type="email"
                            placeholder="hello@juuteion.jp"
                        />
                        <Input
                            label="Message"
                            multiline
                            rows="3"
                            placeholder="お問い合わせ内容..."
                        />
                    </div>
                </section>

                <footer class="pt-16 pb-12 border-t border-subtle text-center">
                    <p class="text-xs text-text-muted/30 font-mono font-en">
                        JUUTEION DESIGN SYSTEM - V3.0
                    </p>
                </footer>
            </div>
        </main>
    </div>
</Layout>
