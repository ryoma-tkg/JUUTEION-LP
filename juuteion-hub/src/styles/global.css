@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {

    /* タイムテーブルのアクティブインジケーター用アニメーション */
    @keyframes signal-pulse {
        0% {
            background-color: #0097e0;
            box-shadow: 0 0 10px #0097e0;
        }

        50% {
            background-color: #FEE100;
            box-shadow: 0 0 15px #FEE100;
        }

        100% {
            background-color: #e5177c;
            box-shadow: 0 0 10px #e5177c;
        }
    }

    .animate-signal {
        animation: signal-pulse 3s infinite alternate;
    }
}

/* Markdown Styles */
/* 詳細ページのMarkdown表示用スタイル */
.prose h2 {
    @apply text-xl font-bold text-white mt-20 mb-8 font-en uppercase tracking-widest flex items-center gap-4;
}

.prose h2::before {
    content: "";
    @apply block w-2 h-8 bg-text-muted rounded-sm;
}

.prose h3 {
    @apply text-lg font-bold text-zinc-200 mt-12 mb-4 font-sans border-b border-subtle pb-2 inline-block pr-8;
}

.prose p {
    @apply text-zinc-400 leading-relaxed mb-6 font-sans text-base;
}

.prose ul {
    @apply list-none pl-0 space-y-0 my-8 ml-2 relative;
    border-left: none;
}

.prose ul li {
    @apply pl-0 py-4 relative flex items-baseline font-bold transition-opacity duration-500;
    opacity: 0.6;
    /* デフォルトは少し暗く */
}

/* 現在進行中のアクト（activeクラス） */
.prose ul li.active {
    opacity: 1;
}

.prose ul li::after {
    content: "";
    @apply absolute left-[3px] w-[1px] bg-timeline;
    top: 0;
    height: 100%;
    z-index: 0;
}

.prose ul li:first-child::after {
    @apply top-6;
    height: calc(100% - 1.5rem);
}

.prose ul li:last-child::after {
    top: 0;
    @apply h-6;
}

.prose ul li::before {
    content: "";
    @apply absolute left-0 top-6 w-2 h-2 rounded-full bg-timeline ring-4 ring-zinc-950 transition-colors duration-300 z-10;
}

.prose ul li:hover::before {
    @apply bg-accent-blue;
}

/* アクティブ時のインジケーター */
.prose ul li.active::before {
    @apply animate-signal ring-0;
    width: 10px;
    height: 10px;
    left: -1px;
}

/* アクティブ時の時間表示 */
.prose ul li.active strong {
    @apply text-accent-red drop-shadow-md;
}

.prose ul li strong {
    @apply text-white font-en text-lg leading-none mr-6 w-[80px] shrink-0 text-right transition-colors duration-300;
}

/* Table Styles for Price List */
.prose table {
    @apply w-full border-separate border-spacing-0 my-8 rounded-xl border border-zinc-700 overflow-hidden bg-surface;
}

.prose thead tr {
    @apply bg-zinc-800/50;
}

.prose th {
    @apply p-4 text-left font-bold border-b border-zinc-700 text-xs text-zinc-400 font-en tracking-widest uppercase;
}

.prose td {
    @apply p-4 border-b border-zinc-700/50 text-zinc-300 text-sm font-en;
}

.prose tr:last-child td {
    @apply border-b-0;
}

.prose td:not(:first-child),
.prose th:not(:first-child) {
    @apply text-right;
}